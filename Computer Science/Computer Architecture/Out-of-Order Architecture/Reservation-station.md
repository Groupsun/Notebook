# Reservation station

统一的保留站（Unified Reservation station），也称为统一的调度器（Unified Scheduler），是CPU的微处理器架构中一种分散的特性，用于寄存器重命名技术，同时也被托马苏洛算法用作动态指令调度。

保留站允许CPU尽可能快的获取以及重用已经被计算出来的结果，而不是等待它被写回寄存器再重新读取使用。当一条指令被发射之后，它们可以指定保留站作为它们所要读取的输入使用。当多个指令需要写入同一个寄存器的时候，可以实现逻辑上只有最后一个指令实际写入寄存器（消除WAW冒险）。保留站还会在执行指令之前检查操作数是否有效（消除RAW冒险）以及执行元件是否空闲（消除结构冒险）。

指令与是否可用的参数放在一起存储，并且在可以执行时（ready）才开始执行。执行得到的结果会被对应的执行元件所确定。显示的寄存器重命名技术可以解决WAR以及WAW冒险。由于这是一个全联系的结构，因此它进行比较操作有很大的代价（需要比较操作器件所有的存储地址）。

在托马苏洛的算法当中，指令会以序列的方式发送到保留站当中，保留站会缓存这些指令以及这令的操作数。如果操作数还不可用，那么保留站会监听公共的数据总线等待操作数可用。当操作数可用后，保留站就可以缓存它，然后开始指令的执行。

功能器件（加法器、乘法器），具有它们对应的保留站。功能器件的输出与公共数据总线相连，保留站就会监听这些总线看哪些操作数是它们所需要的。
