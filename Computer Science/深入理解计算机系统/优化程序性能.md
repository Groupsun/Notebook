# 优化程序性能

## 简单的方法

不依赖于目标机器的任何特性，而只是简单的降低了过程调用的开销的方法：
1. 消除循环的低效率，包括代码外提等的有效手段。
2. 减少过程调用。
3. 消除不必要的内存引用。

## 理解现代处理器

现代微处理器采用了复杂的硬件试图将程序性能最大化，带来的结果是在代码级别上，看上去似乎是一次执行一条指令而在实际的处理器中，则是同时对多条指令求值的，这个现象称为**指令级并行**。其中有两种下界描述了程序的最大性能：
1. **延迟界限**。在下一条指令开始之前，这条指令必须结束。
2. **吞吐量界限**。代码中的数据相关限制了处理器功能单元的原始计算能力。

### 整体操作

![avatar](./pictures/ch5_1.png)

上图是现代微处理器的一个非常简单化的示意图。是一个超标量的乱序处理器。整个设计有两个主要部分：指令控制单元（ICU）和执行单元（EU）。
