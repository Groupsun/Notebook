## 思路

1. 使用外部中断口来做，虽然只有一个，但是可行。
2. 原先的CSR没有外部中断的入口，加一个input即可，将其连接到mip中的MEIP位（外部中断pending）。
3. 外部中断来了，MEIP置高，接下来的操作和一般的中断处理没有什么区别。
4. 将biu的数据写入到CSR中的mtval当中，然后使用CSR指令将其写到其中一个寄存器当中。也就是说，在异常处理程序当中如此实现。
5. rsp_valid作为外部中断的信号入口，输入到CSR；rsp_rdata作为外部中断的数据输入，输入到CSR，写入到mtval当中，上面说的都是读取biu的操作步骤。
6. 写入数据到biu并发送到总线的思路大同小异，甚至不需要中断和CSR就可以实现。修改译码器，将biu作为一个特殊的地址对待，直接作为一个特殊的写入mem的指令对待即可，在MEM阶段将数据和信号发送到biu即可。
7. 请求读也是相同的思路。因此请求biu都是在MEM阶段来进行，有两种情况：I. 请求读，此时往读特殊地址（请求biu读的地址）写入目的地址；II. 请求写，此时往写特殊地址（请求biu写的地址）写入目的地址和数据（这需要两条写存储器指令来完成）即可。因此需要在MEM阶段加多一个biu接口。接口当中需要两个寄存器，接口和MEM之前会有一次地址的仲裁，决定这个写存储器是真的写进存储器还是写入biu。

## 实现

往0x100存储器地址写：读BIU

往0x101存储器地址写：写BIU