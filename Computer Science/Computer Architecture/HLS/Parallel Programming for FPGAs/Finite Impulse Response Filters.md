# 有限脉冲响应滤波器

# 概览

有限脉冲响应（Finite Impulse Response，FIR）滤波器在数字信号处理（digital signal processing，DSP）应用领域当中是非常常用的。它非常适合实现为硬件的形式，因为它们的实现可以是高度优化的结构。主要体现在它们是对连续信号元素的线性变换，这对于一些数据结构来说很容易进行映射（比如FIFO或者抽头延迟线），而这些数据结构也可以很容易的在硬件上高效实现。

滤波器的两种基本的使用是用于信号的重建（signal restoration）以及信号的分离（signal separation）。一般来说信号的分离更常使用：对一个输入的信号分离成两个不同的部分，比如，我们可能想用一个低通的滤波器（low pass filter）来除去我们不感兴趣的高频信号。或者我们想使用一个带通滤波器（band pass filter）来得到我们想要的特定频率的信号，在频移键控解调（frequency shift keying dmodulation）过程中隔离频率。信号的重建是指除去可能混入信号中的噪声或者其他失真，比如在无线链路之间的信号传输。信号的重建包括平滑信号以及移除信号的直流部分。

数字FIR滤波器经常用于处理从连续信号中采样到的离散信号。采样的方式有很多种，可以是时间（以固定时间使用AD转化采样天线的电压），也可以是空间（采样由光电二极管组成的图像传感器不同位置的值）。

采样得到的数据的格式根据场景的不同而不同。数字通信一般使用复数来表示一个样本，而在图像处理中一般将一个像素点看作一个样本（RGB值）。

# 背景知识

对给定输入脉冲信号的滤波器的输出信号是称为滤波器的脉冲响应（impulse response）。一个线性时不变的FIR滤波器包含该滤波器所有的信息。顾名思义，FIR滤波器（严格的线性时不变系统）的脉冲响应是有限的。在已知一个FIR滤波器输出相应的前提下，可以通过卷积（convolution）的方法算出该滤波器对于任意输入信号的输出响应。这个运算过程结合脉冲相应的样本（也称为系数或者阶）以及输入信号的样本来计算输出信号。滤波器的输出也可以通过其他方式进行计算(例如，通过频域计算)，在本章中，我们关注时域计算。

在解释FIR的原理之前，首先要简要了解一下有关[卷积](../../../../Mathematics/Convolution.md)的知识。

一个N-阶的FIR滤波器，其输入的信号序列为x，且系数为h，则其输出的可以由x以及h的离散卷积来表示：

$$ y[i] = \sum_{j=0}^{N-1} h[j] \cdot x[i-j] $$

可以注意到，计算N-阶滤波器的输出信号需要N次乘法以及N-1次的加法。

如果使用的是一个N-阶的滑动均值滤波器（moving average filters），那么输出信号可以表示为：

$$ y[i] = \frac{1}{N} \sum_{j=0}^{N} x[i-j] $$
